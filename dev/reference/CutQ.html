<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create a Factor Variable Using the Quantiles of a Continuous Variable — CutQ • DescTools</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Create a Factor Variable Using the Quantiles of a Continuous Variable — CutQ" />
<meta property="og:description" content="Create a factor variable using the quantiles of a continous variable." />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">DescTools</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.99.41.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa-book"></span>
     
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Documentation for version of package:</li>
    <li>
      <a href="https://andrisignorell.github.io/DescTools/">Released</a>
    </li>
    <li>
      <a href="https://andrisignorell.github.io/DescTools/dev/">In-development</a>
    </li>
  </ul>
</li>
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">PDF:</li>
    <li>
      <a href="https://github.com/AndriSignorell/DescTools/raw/master/vignettes/DescToolsCompanion.pdf">Desc Tools Companion</a>
    </li>
    <li>
      <a href="https://github.com/AndriSignorell/DescTools/raw/master/vignettes/TablesInR.pdf">Tables in R</a>
    </li>
    <li>
      <a href="https://github.com/AndriSignorell/DescTools/raw/master/vignettes/Combinatorics.pdf">Combinatorics</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/AndriSignorell/DescTools/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create a Factor Variable Using the Quantiles of a Continuous Variable</h1>
    
    <div class="hidden name"><code>CutQ.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Create a factor variable using the quantiles of a continous variable.</p>
    </div>

    <pre class="usage"><span class='fu'>CutQ</span><span class='op'>(</span><span class='va'>x</span>, breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/quantile.html'>quantile</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>1</span>, by <span class='op'>=</span> <span class='fl'>0.25</span><span class='op'>)</span>, na.rm <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>, 
     labels <span class='op'>=</span> <span class='cn'>NULL</span>, na.rm <span class='op'>=</span> <span class='cn'>FALSE</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>continous variable.</p></td>
    </tr>
    <tr>
      <th>breaks</th>
      <td><p>the breaks for creating groups. By default the quartiles will be used, say <code>quantile</code> <code><a href='https://rdrr.io/r/base/seq.html'>seq(0, 1, by = 0.25)</a></code> quantiles. See <code><a href='https://rdrr.io/r/stats/quantile.html'>quantile</a></code> for details. If breaks is given as a single integer it is interpreted as the intended number of groups, e.g. <code>breaks=10</code> will return x cut in deciles.</p></td>
    </tr>
    <tr>
      <th>labels</th>
      <td><p>labels for the levels of the resulting category. By default, labels are defined as <code>Q1</code>, <code>Q2</code> to the length of breaks - 1. The parameter ist passed to <code><a href='https://rdrr.io/r/base/cut.html'>cut</a></code>, so if <code>labels</code> are set to <code>FALSE</code>, simple integer codes are returned instead of a factor.
<!-- %%     ~~Describe \code{labels} here~~ --></p></td>
    </tr>
    <tr>
      <th>na.rm</th>
      <td><p>Boolean indicating whether missing values should be
    removed when computing quantiles.  Defaults to TRUE.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Optional arguments passed to <code><a href='https://rdrr.io/r/base/cut.html'>cut</a></code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    

<p>This function uses <code><a href='https://rdrr.io/r/stats/quantile.html'>quantile</a></code> to obtain the specified
  quantiles of <code>x</code>, then calls <code><a href='https://rdrr.io/r/base/cut.html'>cut</a></code> to create a factor
  variable using the intervals specified by these quantiles.</p>
<p>It properly handles cases where more than one quantile obtains the
  same value, as in the second example below.  Note that in this case,
  there will be fewer generated factor levels than the specified number
  of quantile intervals.</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Factor variable with one level for each quantile interval given by <code>q</code>.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Gregory R. Warnes &lt;greg@warnes.net&gt;, some slight modifications Andri Signorell &lt;andri@signorell.net&gt;</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://rdrr.io/r/base/cut.html'>cut</a></code>, <code><a href='https://rdrr.io/r/stats/quantile.html'>quantile</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># create example data</span>
<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>1234</span><span class='op'>)</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='fl'>1000</span><span class='op'>)</span>

<span class='co'># cut into quartiles</span>
<span class='va'>quartiles</span> <span class='op'>&lt;-</span> <span class='fu'>CutQ</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span><span class='op'>(</span><span class='va'>quartiles</span><span class='op'>)</span>
</div><div class='output co'>#&gt; quartiles
#&gt;  Q1  Q2  Q3  Q4 
#&gt; 250 250 250 250 </div><div class='input'>
<span class='co'># cut into deciles</span>
<span class='va'>deciles</span> <span class='op'>&lt;-</span> <span class='fu'>CutQ</span><span class='op'>(</span><span class='va'>x</span>, breaks<span class='op'>=</span><span class='fl'>10</span>, labels<span class='op'>=</span><span class='cn'>NULL</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span><span class='op'>(</span><span class='va'>deciles</span><span class='op'>)</span>
</div><div class='output co'>#&gt; deciles
#&gt;  Q1  Q2  Q3  Q4  Q5  Q6  Q7  Q8  Q9 Q10 
#&gt; 100 100 100 100 100 100 100 100 100 100 </div><div class='input'>
<span class='co'># show handling of 'tied' quantiles.</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>  <span class='co'># discretize to create ties</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/stem.html'>stem</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>        <span class='co'># display the ties</span>
</div><div class='output co'>#&gt; 
#&gt;   The decimal point is at the |
#&gt; 
#&gt;   -3 | 0000000000000
#&gt;   -2 | 
#&gt;   -2 | 000000000000000000000000000000000000000000000000
#&gt;   -1 | 
#&gt;   -1 | 00000000000000000000000000000000000000000000000000000000000000000000+181
#&gt;   -0 | 
#&gt;   -0 | 
#&gt;    0 | 00000000000000000000000000000000000000000000000000000000000000000000+310
#&gt;    0 | 
#&gt;    1 | 00000000000000000000000000000000000000000000000000000000000000000000+140
#&gt;    1 | 
#&gt;    2 | 000000000000000000000000000000000000000000000000000000000000000
#&gt;    2 | 
#&gt;    3 | 00000
#&gt; </div><div class='input'><span class='va'>deciles</span> <span class='op'>&lt;-</span> <span class='fu'>CutQ</span><span class='op'>(</span><span class='va'>x</span>, breaks<span class='op'>=</span><span class='fl'>10</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span><span class='op'>(</span><span class='va'>deciles</span><span class='op'>)</span> <span class='co'># note that there are only 5 groups (not 10) </span>
</div><div class='output co'>#&gt; deciles
#&gt; [-3,-1)      -1       0       1   (1,3] 
#&gt;      61     261     390     220      68 </div><div class='input'>               <span class='co'># due to duplicates</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Andri Signorell.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


