<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Create a Factor Variable Using the Quantiles of a Continuous Variable — CutQ • DescTools</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Create a Factor Variable Using the Quantiles of a Continuous Variable — CutQ"><meta property="og:description" content="Create a factor variable using the quantiles of a continous variable."><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">DescTools</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.99.59.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-book"></span>


    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">Documentation for version of package:</li>
    <li>
      <a href="https://andrisignorell.github.io/DescTools/" class="external-link">Released</a>
    </li>
    <li>
      <a href="https://andrisignorell.github.io/DescTools/dev/" class="external-link">In-development</a>
    </li>
  </ul></li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Tutorials

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">PDF:</li>
    <li>
      <a href="https://github.com/AndriSignorell/DescTools/raw/master/vignettes/DescToolsCompanion.pdf" class="external-link">Desc Tools Companion</a>
    </li>
    <li>
      <a href="https://github.com/AndriSignorell/DescTools/raw/master/vignettes/TablesInR.pdf" class="external-link">Tables in R</a>
    </li>
    <li>
      <a href="https://github.com/AndriSignorell/DescTools/raw/master/vignettes/Combinatorics.pdf" class="external-link">Combinatorics</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/AndriSignorell/DescTools/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create a Factor Variable Using the Quantiles of a Continuous Variable</h1>

    <div class="hidden name"><code>CutQ.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Create a factor variable using the quantiles of a continous variable.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">CutQ</span><span class="op">(</span><span class="va">x</span>, breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">x</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, by <span class="op">=</span> <span class="fl">0.25</span><span class="op">)</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, </span>
<span>     labels <span class="op">=</span> <span class="cn">NULL</span>, na.rm <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <p></p>
<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>continous variable.</p></dd>

  <dt id="arg-breaks">breaks<a class="anchor" aria-label="anchor" href="#arg-breaks"></a></dt>
<dd><p>the breaks for creating groups. By default the quartiles will be used, say <code>quantile</code> <code>seq(0, 1, by = 0.25)</code> quantiles. See <code><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></code> for details. If breaks is given as a single integer it is interpreted as the intended number of groups, e.g. <code>breaks=10</code> will return x cut in deciles.</p></dd>

  <dt id="arg-labels">labels<a class="anchor" aria-label="anchor" href="#arg-labels"></a></dt>
<dd><p>labels for the levels of the resulting category. By default, labels are defined as <code>Q1</code>, <code>Q2</code> to the length of breaks - 1. The parameter ist passed to <code><a href="https://rdrr.io/r/base/cut.html" class="external-link">cut</a></code>, so if <code>labels</code> are set to <code>FALSE</code>, simple integer codes are returned instead of a factor.
<!-- %%     ~~Describe \code{labels} here~~ --></p></dd>


<dt id="arg-na-rm">na.rm<a class="anchor" aria-label="anchor" href="#arg-na-rm"></a></dt>
<dd><p>Boolean indicating whether missing values should be
    removed when computing quantiles.  Defaults to TRUE.</p></dd>

  <dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Optional arguments passed to <code><a href="https://rdrr.io/r/base/cut.html" class="external-link">cut</a></code>.</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>


<p>This function uses <code><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></code> to obtain the specified
  quantiles of <code>x</code>, then calls <code><a href="https://rdrr.io/r/base/cut.html" class="external-link">cut</a></code> to create a factor
  variable using the intervals specified by these quantiles.</p>
<p>It properly handles cases where more than one quantile obtains the
  same value, as in the second example below.  Note that in this case,
  there will be fewer generated factor levels than the specified number
  of quantile intervals.</p>
    </div>
    <div id="value">
    <h2>Value</h2>
    <p>Factor variable with one level for each quantile interval given by <code>q</code>.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Gregory R. Warnes &lt;greg@warnes.net&gt;, some slight modifications Andri Signorell &lt;andri@signorell.net&gt;</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/r/base/cut.html" class="external-link">cut</a></code>, <code><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># create example data</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">1000</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># cut into quartiles</span></span></span>
<span class="r-in"><span><span class="va">quartiles</span> <span class="op">&lt;-</span> <span class="fu">CutQ</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">quartiles</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> quartiles</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Q1  Q2  Q3  Q4 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 250 250 250 250 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># cut into deciles</span></span></span>
<span class="r-in"><span><span class="va">deciles</span> <span class="op">&lt;-</span> <span class="fu">CutQ</span><span class="op">(</span><span class="va">x</span>, breaks<span class="op">=</span><span class="fl">10</span>, labels<span class="op">=</span><span class="cn">NULL</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">deciles</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> deciles</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Q1  Q2  Q3  Q4  Q5  Q6  Q7  Q8  Q9 Q10 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 100 100 100 100 100 100 100 100 100 100 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># show handling of 'tied' quantiles.</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>  <span class="co"># discretize to create ties</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/stem.html" class="external-link">stem</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>        <span class="co"># display the ties</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   The decimal point is at the |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   -4 | 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   -3 | </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   -3 | 000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   -2 | </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   -2 | 000000000000000000000000000000000000000000000000000000000000000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   -1 | </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   -1 | 00000000000000000000000000000000000000000000000000000000000000000000+162</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   -0 | </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   -0 | </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    0 | 00000000000000000000000000000000000000000000000000000000000000000000+282</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    0 | </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1 | 00000000000000000000000000000000000000000000000000000000000000000000+181</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1 | </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2 | 000000000000000000000000000000000000000000000000000000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2 | </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3 | 00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="va">deciles</span> <span class="op">&lt;-</span> <span class="fu">CutQ</span><span class="op">(</span><span class="va">x</span>, breaks<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">deciles</span><span class="op">)</span> <span class="co"># note that there are only 5 groups (not 10) </span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> deciles</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [-4,-1)      -1       0       1   (1,3] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      73     242     362     261      62 </span>
<span class="r-in"><span>               <span class="co"># due to duplicates</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Andri Signorell.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

