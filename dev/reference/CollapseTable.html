<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Collapse Levels of a Table — CollapseTable • DescTools</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Collapse Levels of a Table — CollapseTable" />
<meta property="og:description" content="Collapse (or re-label) variables in a
a contingency table or ftable object by re-assigning levels of the table variables." />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">DescTools</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.99.41.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa-book"></span>
     
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Documentation for version of package:</li>
    <li>
      <a href="https://andrisignorell.github.io/DescTools/">Released</a>
    </li>
    <li>
      <a href="https://andrisignorell.github.io/DescTools/dev/">In-development</a>
    </li>
  </ul>
</li>
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">PDF:</li>
    <li>
      <a href="https://github.com/AndriSignorell/DescTools/raw/master/vignettes/DescToolsCompanion.pdf">Desc Tools Companion</a>
    </li>
    <li>
      <a href="https://github.com/AndriSignorell/DescTools/raw/master/vignettes/TablesInR.pdf">Tables in R</a>
    </li>
    <li>
      <a href="https://github.com/AndriSignorell/DescTools/raw/master/vignettes/Combinatorics.pdf">Combinatorics</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/AndriSignorell/DescTools/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Collapse Levels of a Table</h1>
    
    <div class="hidden name"><code>CollapseTable.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Collapse (or re-label) variables in a
a contingency table or <code>ftable</code> object by re-assigning levels of the table variables.</p>
    </div>

    <pre class="usage"><span class='fu'>CollapseTable</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A <code>table</code> or <code>ftable</code> object</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>A collection of one or more assignments of factors of the table to
  a list of levels</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Each of the <code>...</code> arguments must be of the form
<code>variable = levels</code>, where <code>variable</code> is the name of one of the table
dimensions, and <code>levels</code> is a character or numeric vector of length equal
to the corresponding dimension of the table. Missing argument names are allowed and will be interpreted in the order of the dimensions of the table.</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>table</code> object (even if the input was an ftable), representing the original table with
one or more of its factors collapsed or rearranged into other levels.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Michael Friendly &lt;friendly@yorku.ca&gt;, Andri Signorell &lt;andri@signorell.net&gt;</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='Untable.html'>Untable</a></code></p>
<p><code><a href='https://rdrr.io/r/base/marginSums.html'>margin.table</a></code> "collapses" a table in a different way, by
summing over table dimensions.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># create some sample data in table form</span>
<span class='va'>sex</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Male"</span>, <span class='st'>"Female"</span><span class='op'>)</span>
<span class='va'>age</span> <span class='op'>&lt;-</span> <span class='va'>letters</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>6</span><span class='op'>]</span>
<span class='va'>education</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"low"</span>, <span class='st'>'med'</span>, <span class='st'>'high'</span><span class='op'>)</span>
<span class='va'>data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/expand.grid.html'>expand.grid</a></span><span class='op'>(</span>sex<span class='op'>=</span><span class='va'>sex</span>, age<span class='op'>=</span><span class='va'>age</span>, education<span class='op'>=</span><span class='va'>education</span><span class='op'>)</span>
<span class='va'>counts</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Poisson.html'>rpois</a></span><span class='op'>(</span><span class='fl'>36</span>, <span class='fl'>100</span><span class='op'>)</span>
<span class='va'>data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>cbind</a></span><span class='op'>(</span><span class='va'>data</span>, <span class='va'>counts</span><span class='op'>)</span>
<span class='va'>t1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/xtabs.html'>xtabs</a></span><span class='op'>(</span><span class='va'>counts</span> <span class='op'>~</span> <span class='va'>sex</span> <span class='op'>+</span> <span class='va'>age</span> <span class='op'>+</span> <span class='va'>education</span>, data<span class='op'>=</span><span class='va'>data</span><span class='op'>)</span>

<span class='fu'><a href='Desc.html'>Desc</a></span><span class='op'>(</span><span class='va'>t1</span><span class='op'>)</span>
</div><div class='output co'>#&gt; ------------------------------------------------------------------------------ 
#&gt; <span style='font-weight: bold;'>t1 (xtabs, table)</span><span>
#&gt; 
#&gt; Summary: 
#&gt; n: 3'699, 3-dim table: 2 x 6 x 3
#&gt; 
#&gt; Chi-squared test for independence of all factors:
#&gt;   X-squared = 22.094, df = 27, p-value = 0.7326
#&gt; 
#&gt;            education low med high Sum
#&gt; sex    age                           
#&gt; Male   a             106  88  107 301
#&gt;        b              97  84  103 284
#&gt;        c              95 127  115 337
#&gt;        d             105 107  109 321
#&gt;        e             100 106   95 301
#&gt;        f              94 102   87 283
#&gt; Female a             110 107  105 322
#&gt;        b             113 112  110 335
#&gt;        c              93 103  107 303
#&gt;        d             101 113  109 323
#&gt;        e              94 114   86 294
#&gt;        f              93 105   97 295
#&gt; Sum    a             216 195  212 623
#&gt;        b             210 196  213 619
#&gt;        c             188 230  222 640
#&gt;        d             206 220  218 644
#&gt;        e             194 220  181 595
#&gt;        f             187 207  184 578
#&gt; </div><div class='img'><img src='CollapseTable-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'>##                  age   a   b   c   d   e   f</span>
<span class='co'>## sex    education</span>
<span class='co'>## Male   low           119 101 109  85  99  93</span>
<span class='co'>##        med            94  98 103 108  84  84</span>
<span class='co'>##        high           81  88  96 110 100  92</span>
<span class='co'>## Female low           107 104  95  86 103  96</span>
<span class='co'>##        med           104  98  94  95 110 106</span>
<span class='co'>##        high           93  85  90 109  99  86</span>


<span class='co'># collapse age to 3 levels</span>
<span class='va'>t2</span> <span class='op'>&lt;-</span> <span class='fu'>CollapseTable</span><span class='op'>(</span><span class='va'>t1</span>, age<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"A"</span>, <span class='st'>"A"</span>, <span class='st'>"B"</span>, <span class='st'>"B"</span>, <span class='st'>"C"</span>, <span class='st'>"C"</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='Desc.html'>Desc</a></span><span class='op'>(</span><span class='va'>t2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; ------------------------------------------------------------------------------ 
#&gt; </span><span style='font-weight: bold;'>t2 (table)</span><span>
#&gt; 
#&gt; Summary: 
#&gt; n: 3'699, 3-dim table: 2 x 3 x 3
#&gt; 
#&gt; Chi-squared test for independence of all factors:
#&gt;   X-squared = 16.651, df = 12, p-value = 0.1632
#&gt; 
#&gt;            education  low  med high  Sum
#&gt; sex    age                              
#&gt; Male   A              203  172  210  585
#&gt;        B              200  234  224  658
#&gt;        C              194  208  182  584
#&gt; Female A              223  219  215  657
#&gt;        B              194  216  216  626
#&gt;        C              187  219  183  589
#&gt; Sum    A              426  391  425 1242
#&gt;        B              394  450  440 1284
#&gt;        C              381  427  365 1173
#&gt; </div><div class='img'><img src='CollapseTable-2.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'>##                  age   A   B   C</span>
<span class='co'>## sex    education</span>
<span class='co'>## Male   low           220 194 192</span>
<span class='co'>##        med           192 211 168</span>
<span class='co'>##        high          169 206 192</span>
<span class='co'>## Female low           211 181 199</span>
<span class='co'>##        med           202 189 216</span>
<span class='co'>##        high          178 199 185</span>


<span class='co'># collapse age to 3 levels and pool education: "low" and "med" to "low"</span>
<span class='va'>t3</span> <span class='op'>&lt;-</span> <span class='fu'>CollapseTable</span><span class='op'>(</span><span class='va'>t1</span>, age<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"A"</span>, <span class='st'>"A"</span>, <span class='st'>"B"</span>, <span class='st'>"B"</span>, <span class='st'>"C"</span>, <span class='st'>"C"</span><span class='op'>)</span>,
    education<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"low"</span>, <span class='st'>"low"</span>, <span class='st'>"high"</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='Desc.html'>Desc</a></span><span class='op'>(</span><span class='va'>t3</span><span class='op'>)</span>
</div><div class='output co'>#&gt; ------------------------------------------------------------------------------ 
#&gt; </span><span style='font-weight: bold;'>t3 (table)</span><span>
#&gt; 
#&gt; Summary: 
#&gt; n: 3'699, 3-dim table: 2 x 3 x 2
#&gt; 
#&gt; Chi-squared test for independence of all factors:
#&gt;   X-squared = 9.320, df = 7, p-value = 0.2305
#&gt; 
#&gt;            education  low high  Sum
#&gt; sex    age                         
#&gt; Male   A              375  210  585
#&gt;        B              434  224  658
#&gt;        C              402  182  584
#&gt; Female A              442  215  657
#&gt;        B              410  216  626
#&gt;        C              406  183  589
#&gt; Sum    A              817  425 1242
#&gt;        B              844  440 1284
#&gt;        C              808  365 1173
#&gt; </div><div class='img'><img src='CollapseTable-3.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'>##                  age   A   B   C</span>
<span class='co'>## sex    education</span>
<span class='co'>## Male   low           412 405 360</span>
<span class='co'>##        high          169 206 192</span>
<span class='co'>## Female low           413 370 415</span>
<span class='co'>##        high          178 199 185</span>



<span class='co'># change labels for levels of education to 1:3</span>
<span class='va'>t4</span> <span class='op'>&lt;-</span> <span class='fu'>CollapseTable</span><span class='op'>(</span><span class='va'>t1</span>,  education<span class='op'>=</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>)</span>
<span class='fu'><a href='Desc.html'>Desc</a></span><span class='op'>(</span><span class='va'>t4</span><span class='op'>)</span>
</div><div class='output co'>#&gt; ------------------------------------------------------------------------------ 
#&gt; </span><span style='font-weight: bold;'>t4 (table)</span><span>
#&gt; 
#&gt; Summary: 
#&gt; n: 3'699, 3-dim table: 2 x 6 x 3
#&gt; 
#&gt; Chi-squared test for independence of all factors:
#&gt;   X-squared = 22.094, df = 27, p-value = 0.7326
#&gt; 
#&gt;            education   1   2   3 Sum
#&gt; sex    age                          
#&gt; Male   a             106  88 107 301
#&gt;        b              97  84 103 284
#&gt;        c              95 127 115 337
#&gt;        d             105 107 109 321
#&gt;        e             100 106  95 301
#&gt;        f              94 102  87 283
#&gt; Female a             110 107 105 322
#&gt;        b             113 112 110 335
#&gt;        c              93 103 107 303
#&gt;        d             101 113 109 323
#&gt;        e              94 114  86 294
#&gt;        f              93 105  97 295
#&gt; Sum    a             216 195 212 623
#&gt;        b             210 196 213 619
#&gt;        c             188 230 222 640
#&gt;        d             206 220 218 644
#&gt;        e             194 220 181 595
#&gt;        f             187 207 184 578
#&gt; </div><div class='img'><img src='CollapseTable-4.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'>##                  age   a   b   c   d   e   f</span>
<span class='co'>## sex    education</span>
<span class='co'>## Male   1             119 101 109  85  99  93</span>
<span class='co'>##        2              94  98 103 108  84  84</span>
<span class='co'>##        3              81  88  96 110 100  92</span>
<span class='co'>## Female 1             107 104  95  86 103  96</span>
<span class='co'>##        2             104  98  94  95 110 106</span>
<span class='co'>##        3              93  85  90 109  99  86</span>
</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Andri Signorell.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


