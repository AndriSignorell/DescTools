<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Recode a Factor
 — Recode • DescTools</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Recode a Factor
 — Recode"><meta property="og:description" content='Combining or rearranging a factor can be tedious if it has many levels. Recode supports this step by
accepting a direct definition of new levels by enumerating old levelnames as argument and adding an "elselevel" option. If new levels are given as integer values they will be translated in the according levels.
'><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">DescTools</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.99.52.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-book"></span>
     
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">Documentation for version of package:</li>
    <li>
      <a href="https://andrisignorell.github.io/DescTools/" class="external-link">Released</a>
    </li>
    <li>
      <a href="https://andrisignorell.github.io/DescTools/dev/" class="external-link">In-development</a>
    </li>
  </ul></li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">PDF:</li>
    <li>
      <a href="https://github.com/AndriSignorell/DescTools/raw/master/vignettes/DescToolsCompanion.pdf" class="external-link">Desc Tools Companion</a>
    </li>
    <li>
      <a href="https://github.com/AndriSignorell/DescTools/raw/master/vignettes/TablesInR.pdf" class="external-link">Tables in R</a>
    </li>
    <li>
      <a href="https://github.com/AndriSignorell/DescTools/raw/master/vignettes/Combinatorics.pdf" class="external-link">Combinatorics</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/AndriSignorell/DescTools/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Recode a Factor
<!-- %%  ~~function to do ... ~~ --></h1>
    
    <div class="hidden name"><code>Recode.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Combining or rearranging a factor can be tedious if it has many levels. <code>Recode</code> supports this step by
accepting a direct definition of new levels by enumerating old levelnames as argument and adding an <code>"elselevel"</code> option. If new levels are given as integer values they will be translated in the according levels.
<!-- %%  ~~ A concise (1-5 lines) description of what the function does. ~~ --></p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">Recode</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span>, elselevel <span class="op">=</span> <span class="cn">NA</span>, use.empty <span class="op">=</span> <span class="cn">FALSE</span>, num <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>the factor whose levels are to be altered. If x is <code>character</code> it will be factorized (using <code>factor</code> defaults).
<!-- %%     ~~Describe \code{x} here~~ --></p></dd>

  <dt>...</dt>
<dd><p>the old levels (combined by <code>c</code>() if there are several) named with the new level:<br><code>newlevel_a=c("old_a", "old_b"), </code><br><code>newlevel_b=c("old_c", "old_d")</code><br> See examples.
<!-- %%     ~~Describe \code{newlevels} here~~ --></p></dd>

  <dt>elselevel</dt>
<dd><p>the value for levels, which are not matched by newlevel list.
  If this is set to <code>NULL</code>, the elselevels will be left unchanged.
  If set to <code>NA</code> (default) non matched levels will be set to <code>NA</code>.</p></dd>

  <dt>use.empty</dt>
<dd><p>logical. Defines how a new level, which can't be found in x, should be handled.  Should it be left in the level's list or be dropped? The default is <code>FALSE</code>,
   which drops empty levels.
<!-- %%     ~~Describe \code{newlevels} here~~ --></p></dd>

<dt>num</dt>
<dd><p>logical. If set to <code>TRUE</code> the result will be numeric.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>the factor having the new levels applied.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Andri Signorell &lt;andri@signorell.net&gt;</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></code>, <code><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></code><br>
There's another solution in the package <b>car</b>.
<!-- %% ~~objects to See Also as \code{\link{help}}, ~~~ --></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1984</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">15</span>, <span class="fl">20</span>, replace<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"old"</span>, <span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, sep<span class="op">=</span><span class="st">"_"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu">Recode</span><span class="op">(</span><span class="va">x</span>,</span></span>
<span class="r-in"><span>            <span class="st">"new_1"</span>   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"old_1"</span>,<span class="st">"old_4"</span>,<span class="st">"old_5"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>            <span class="st">"new_2"</span>   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"old_6"</span>,<span class="st">"old_10"</span>,<span class="st">"old_11"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>            <span class="st">"new_3"</span>   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"old_12"</span>,<span class="st">"old_13"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>            elselevel <span class="op">=</span> <span class="st">"other"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">x</span>, y<span class="op">=</span><span class="va">y</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         x     y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   old_8 other</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  old_14 other</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   old_4 new_1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  old_10 new_2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   old_1 new_1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   old_5 new_1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  old_14 other</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   old_3 other</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  old_15 other</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10  old_8 other</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11  old_1 new_1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 old_13 new_3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13  old_4 new_1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14  old_8 other</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15  old_1 new_1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16  old_4 new_1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17  old_6 new_2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18 old_15 other</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19 old_13 new_3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20 old_13 new_3</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Coding NAs, NA is recoded to new_1</span></span></span>
<span class="r-in"><span><span class="va">x</span><span class="op">[</span><span class="fl">5</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">7</span><span class="op">]</span> </span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">x</span>, </span></span>
<span class="r-in"><span>  RecodeNA <span class="op">=</span> <span class="fu">Recode</span><span class="op">(</span><span class="va">x</span>,</span></span>
<span class="r-in"><span>                    <span class="st">"new_1"</span>   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"old_4"</span>,<span class="st">"old_8"</span>, <span class="cn">NA</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    elselevel <span class="op">=</span> <span class="st">"other"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>       </span></span>
<span class="r-in"><span>  <span class="co"># NAs remain untouched       </span></span></span>
<span class="r-in"><span>  NoRecodeNA <span class="op">=</span> <span class="fu">Recode</span><span class="op">(</span><span class="va">x</span>,</span></span>
<span class="r-in"><span>                      <span class="st">"new_1"</span>   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"old_4"</span>,<span class="st">"old_8"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      elselevel <span class="op">=</span> <span class="st">"other"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span>         </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        x RecodeNA NoRecodeNA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  old_8    new_1      new_1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 old_14    other      other</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  old_4    new_1      new_1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 old_10    other      other</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   &lt;NA&gt;    new_1       &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   &lt;NA&gt;    new_1       &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7 old_14    other      other</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">z1</span> <span class="op">&lt;-</span> <span class="fu">Recode</span><span class="op">(</span><span class="va">x</span>, AB<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>,<span class="st">"b"</span><span class="op">)</span>, CD<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"c"</span>,<span class="st">"d"</span><span class="op">)</span>, elselevel<span class="op">=</span><span class="st">"none of these"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">z2</span> <span class="op">&lt;-</span> <span class="fu">Recode</span><span class="op">(</span><span class="va">x</span>, AB<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>,<span class="st">"b"</span><span class="op">)</span>, CD<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"c"</span>,<span class="st">"d"</span><span class="op">)</span>, elselevel<span class="op">=</span><span class="cn">NA</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">z3</span> <span class="op">&lt;-</span> <span class="fu">Recode</span><span class="op">(</span><span class="va">x</span>, AB<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>,<span class="st">"b"</span><span class="op">)</span>, CD<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"c"</span>,<span class="st">"d"</span><span class="op">)</span>, elselevel<span class="op">=</span><span class="cn">NULL</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">z4</span> <span class="op">&lt;-</span> <span class="fu">Recode</span><span class="op">(</span><span class="va">x</span>, AB<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>,<span class="st">"b"</span><span class="op">)</span>, GH<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"g"</span>,<span class="st">"h"</span><span class="op">)</span>, elselevel<span class="op">=</span><span class="cn">NA</span>, use.empty<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">z5</span> <span class="op">&lt;-</span> <span class="fu">Recode</span><span class="op">(</span><span class="va">x</span>, AB<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>,<span class="st">"b"</span><span class="op">)</span>, GH<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"g"</span>,<span class="st">"h"</span><span class="op">)</span>, elselevel<span class="op">=</span><span class="cn">NA</span>, use.empty<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">z1</span>, <span class="va">z2</span>, <span class="va">z3</span>, <span class="va">z4</span>, <span class="va">z5</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              z1   z2 z3   z4   z5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1            AB   AB AB   AB   AB</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2            AB   AB AB   AB   AB</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3            CD   CD CD &lt;NA&gt; &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4            CD   CD CD &lt;NA&gt; &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 none of these &lt;NA&gt;  e &lt;NA&gt; &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 none of these &lt;NA&gt;  f &lt;NA&gt; &lt;NA&gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">z1</span>, <span class="va">z2</span>, <span class="va">z3</span>, <span class="va">z4</span>, <span class="va">z5</span><span class="op">)</span>, <span class="va">levels</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $z1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "AB"            "CD"            "none of these"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $z2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "AB" "CD"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $z3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "AB" "CD" "e"  "f" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $z4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "AB" "GH"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $z5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "AB"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># empty level GH exists in z4...</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">z4</span>, useNA<span class="op">=</span><span class="st">"ifany"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> z4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   AB   GH &lt;NA&gt; </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2    0    4 </span>
<span class="r-in"><span><span class="co"># and is dropped in z5</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">z5</span>, useNA<span class="op">=</span><span class="st">"ifany"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> z5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   AB &lt;NA&gt; </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2    4 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># use integers to define the groups to collapse</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1972</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">likert</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, size<span class="op">=</span><span class="fl">15</span>, replace<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                  levels<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">gettextf</a></span><span class="op">(</span><span class="st">"(%s)"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] (4)  (10) (9)  (1)  (3)  (7)  (10) (7)  (8)  (10) (1)  (6)  (9)  (10) (5) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Levels: (1) (2) (3) (4) (5) (6) (7) (8) (9) (10)</span>
<span class="r-in"><span><span class="fu">Recode</span><span class="op">(</span><span class="va">likert</span>, det<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, pas<span class="op">=</span><span class="fl">7</span><span class="op">:</span><span class="fl">8</span>, pro<span class="op">=</span><span class="fl">9</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] det pro pro det det pas pro pas pas pro det det pro pro det</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Levels: det pas pro</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># or directly turned to numeric</span></span></span>
<span class="r-in"><span><span class="fu">Recode</span><span class="op">(</span><span class="va">likert</span>, <span class="st">"1"</span><span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, <span class="st">"2"</span><span class="op">=</span><span class="fl">7</span><span class="op">:</span><span class="fl">8</span>, <span class="st">"5"</span><span class="op">=</span><span class="fl">9</span><span class="op">:</span><span class="fl">10</span>, num<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 1 5 5 1 1 2 5 2 2 5 1 1 5 5 1</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Andri Signorell.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

