<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Sort Strings with Embedded Numbers Based on Their Numeric
 Order — SortMixed • DescTools</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Sort Strings with Embedded Numbers Based on Their Numeric
 Order — SortMixed" />
<meta property="og:description" content="These functions sort or order character strings containing embedded
  numbers so that the numbers are numerically sorted rather than sorted
  by character value.  I.e. &quot;Asprin 50mg&quot; will come before
  &quot;Asprin 100mg&quot;.  In addition, case of character strings is ignored so
  that &quot;a&quot;, will come before &quot;B&quot; and &quot;C&quot;." />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">DescTools</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.99.40.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">PDF:</li>
    <li>
      <a href="../articles/DescToolsCompanion.pdf">Desc Tools Companion</a>
    </li>
    <li>
      <a href="../articles/TablesInR.pdf">Tables in R</a>
    </li>
    <li>
      <a href="../articles/Combinatorics.pdf">Combinatorics</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/AndriSignorell/DescTools/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Sort Strings with Embedded Numbers Based on Their Numeric
 Order</h1>
    
    <div class="hidden name"><code>SortMixed.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>These functions sort or order character strings containing embedded
  numbers so that the numbers are numerically sorted rather than sorted
  by character value.  I.e. "Asprin 50mg" will come before
  "Asprin 100mg".  In addition, case of character strings is ignored so
  that "a", will come before "B" and "C".</p>
    </div>

    <pre class="usage"><span class='fu'>SortMixed</span><span class='op'>(</span><span class='va'>x</span>, decreasing<span class='op'>=</span><span class='cn'>FALSE</span>, na.last<span class='op'>=</span><span class='cn'>TRUE</span>, blank.last<span class='op'>=</span><span class='cn'>FALSE</span>,
          numeric.type<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"decimal"</span>, <span class='st'>"roman"</span><span class='op'>)</span>,
          roman.case<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"upper"</span>,<span class='st'>"lower"</span>,<span class='st'>"both"</span><span class='op'>)</span> <span class='op'>)</span>

<span class='fu'>OrderMixed</span><span class='op'>(</span><span class='va'>x</span>, decreasing<span class='op'>=</span><span class='cn'>FALSE</span>, na.last<span class='op'>=</span><span class='cn'>TRUE</span>, blank.last<span class='op'>=</span><span class='cn'>FALSE</span>,
          numeric.type<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"decimal"</span>, <span class='st'>"roman"</span><span class='op'>)</span>,
          roman.case<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"upper"</span>,<span class='st'>"lower"</span>,<span class='st'>"both"</span><span class='op'>)</span> <span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>vector to be sorted.</p></td>
    </tr>
    <tr>
      <th>decreasing</th>
      <td><p>logical.  Should the sort be increasing or
    decreasing? Note that <code>descending=TRUE</code> reverses the meanings of
    <code>na.last</code> and <code>blanks.last</code>.</p></td>
    </tr>
    <tr>
      <th>na.last</th>
      <td><p>logical, controlling the treatment of <code>NA</code> values.  If <code>TRUE</code>, missing
    values in the data are put last; if <code>FALSE</code>, they are put
    first; if <code>NA</code>, they are removed.</p></td>
    </tr>
    <tr>
      <th>blank.last</th>
      <td><p>logical, controlling the treatment of blank values.  If <code>TRUE</code>, blank
    values in the data are put last; if <code>FALSE</code>, they are put
    first; if <code>NA</code>, they are removed.</p></td>
    </tr>
    <tr>
      <th>numeric.type</th>
      <td><p>either <code>"decimal"</code> (default) or <code>"roman"</code>.  Are numeric values represented as decimal numbers (<code>numeric.type="decimal"</code>) or as Roman numerals
    (<code>numeric.type="roman"</code>)?</p></td>
    </tr>
    <tr>
      <th>roman.case</th>
      <td><p>one of <code>"upper"</code>, <code>"lower"</code>, or <code>"both"</code>.  Are roman
    numerals represented using only capital letters ('IX') or lower-case
    letters ('ix') or both?</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>I often have character vectors (e.g. factor labels), such as compound
  and dose, that contain both text and numeric data.  This function
  is useful for sorting these character vectors into a logical order.</p>
<p>It does so by splitting each character vector into a sequence of
  character and numeric sections, and then sorting along these sections,
  with numbers being sorted by numeric value (e.g. "50" comes before
  "100"), followed by characters strings sorted by character
  value (e.g. "A" comes before "B") <em>ignoring case</em> (e.g. 'A' has
  the same sort order as 'a').</p>
<p>By default, sort order is ascending, empty strings are sorted to the front,
  and <code>NA</code> values to the end.   Setting <code>descending=TRUE</code>
  changes the sort order to descending and reverses the meanings of
  <code>na.last</code> and <code>blank.last</code>.</p>
<p>Parsing looks for decimal numbers unless <code>numeric.type="roman"</code>,
  in which parsing looks for roman numerals, with character case
  specified by <code>roman.case</code>.</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>OrderMixed</code> returns a vector giving the sort order of the input
  elements. <code>SortMixed</code> returns the sorted vector.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Gregory R. Warnes <a href='mailto:greg@warnes.net'>greg@warnes.net</a></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://rdrr.io/r/base/sort.html'>sort</a></code>, <code><a href='https://rdrr.io/r/base/order.html'>order</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>## compound &amp; dose labels</span>
<span class='va'>Treatment</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Control"</span>, <span class='st'>"Asprin 10mg/day"</span>, <span class='st'>"Asprin 50mg/day"</span>,
               <span class='st'>"Asprin 100mg/day"</span>, <span class='st'>"Acetomycin 100mg/day"</span>,
               <span class='st'>"Acetomycin 1000mg/day"</span><span class='op'>)</span>

<span class='co'>## ordinary sort puts the dosages in the wrong order</span>
<span class='fu'><a href='https://rdrr.io/r/base/sort.html'>sort</a></span><span class='op'>(</span><span class='va'>Treatment</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "Acetomycin 1000mg/day" "Acetomycin 100mg/day"  "Asprin 100mg/day"     
#&gt; [4] "Asprin 10mg/day"       "Asprin 50mg/day"       "Control"              </div><div class='input'>
<span class='co'>## but SortMixed does the 'right' thing</span>
<span class='fu'>SortMixed</span><span class='op'>(</span><span class='va'>Treatment</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "Acetomycin 100mg/day"  "Acetomycin 1000mg/day" "Asprin 10mg/day"      
#&gt; [4] "Asprin 50mg/day"       "Asprin 100mg/day"      "Control"              </div><div class='input'>
<span class='co'>## Here is a more complex example</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/rev.html'>rev</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"AA 0.50 ml"</span>, <span class='st'>"AA 1.5 ml"</span>, <span class='st'>"AA 500 ml"</span>, <span class='st'>"AA 1500 ml"</span>,
           <span class='st'>"EXP 1"</span>, <span class='st'>"AA 1e3 ml"</span>, <span class='st'>"A A A"</span>, <span class='st'>"1 2 3 A"</span>, <span class='st'>"NA"</span>, <span class='cn'>NA</span>, <span class='st'>"1e2"</span>,
           <span class='st'>""</span>, <span class='st'>"-"</span>, <span class='st'>"1A"</span>, <span class='st'>"1 A"</span>, <span class='st'>"100"</span>, <span class='st'>"100A"</span>, <span class='st'>"Inf"</span><span class='op'>)</span><span class='op'>)</span>

<span class='fu'>OrderMixed</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>
</div><div class='output co'>#&gt;  [1]  7 11  4  5  3  8  2  1  6 12 18 17 16 13 15 14 10  9</div><div class='input'>
<span class='fu'>SortMixed</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>  <span class='co'># Notice that plain numbers, including 'Inf' show up</span>
</div><div class='output co'>#&gt;  [1] ""           "1 2 3 A"    "1 A"        "1A"         "100"       
#&gt;  [6] "1e2"        "100A"       "Inf"        "-"          "A A A"     
#&gt; [11] "AA 0.50 ml" "AA 1.5 ml"  "AA 500 ml"  "AA 1e3 ml"  "AA 1500 ml"
#&gt; [16] "EXP 1"      "NA"         NA          </div><div class='input'>              <span class='co'># before strings, NAs at the end, and blanks at the</span>
              <span class='co'># beginning .</span>


<span class='fu'>SortMixed</span><span class='op'>(</span><span class='va'>x</span>, na.last<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>  <span class='co'># default</span>
</div><div class='output co'>#&gt;  [1] ""           "1 2 3 A"    "1 A"        "1A"         "100"       
#&gt;  [6] "1e2"        "100A"       "Inf"        "-"          "A A A"     
#&gt; [11] "AA 0.50 ml" "AA 1.5 ml"  "AA 500 ml"  "AA 1e3 ml"  "AA 1500 ml"
#&gt; [16] "EXP 1"      "NA"         NA          </div><div class='input'><span class='fu'>SortMixed</span><span class='op'>(</span><span class='va'>x</span>, na.last<span class='op'>=</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='co'># push NAs to the front</span>
</div><div class='output co'>#&gt;  [1] NA           ""           "1 2 3 A"    "1 A"        "1A"        
#&gt;  [6] "100"        "1e2"        "100A"       "Inf"        "-"         
#&gt; [11] "A A A"      "AA 0.50 ml" "AA 1.5 ml"  "AA 500 ml"  "AA 1e3 ml" 
#&gt; [16] "AA 1500 ml" "EXP 1"      "NA"        </div><div class='input'>

<span class='fu'>SortMixed</span><span class='op'>(</span><span class='va'>x</span>, blank.last<span class='op'>=</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='co'># default</span>
</div><div class='output co'>#&gt;  [1] ""           "1 2 3 A"    "1 A"        "1A"         "100"       
#&gt;  [6] "1e2"        "100A"       "Inf"        "-"          "A A A"     
#&gt; [11] "AA 0.50 ml" "AA 1.5 ml"  "AA 500 ml"  "AA 1e3 ml"  "AA 1500 ml"
#&gt; [16] "EXP 1"      "NA"         NA          </div><div class='input'><span class='fu'>SortMixed</span><span class='op'>(</span><span class='va'>x</span>, blank.last<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>  <span class='co'># push blanks to the end</span>
</div><div class='output co'>#&gt;  [1] "1 2 3 A"    "1 A"        "1A"         "100"        "1e2"       
#&gt;  [6] "100A"       "Inf"        "-"          "A A A"      "AA 0.50 ml"
#&gt; [11] "AA 1.5 ml"  "AA 500 ml"  "AA 1e3 ml"  "AA 1500 ml" "EXP 1"     
#&gt; [16] "NA"         ""           NA          </div><div class='input'>
<span class='fu'>SortMixed</span><span class='op'>(</span><span class='va'>x</span>, decreasing<span class='op'>=</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='co'># default</span>
</div><div class='output co'>#&gt;  [1] ""           "1 2 3 A"    "1 A"        "1A"         "100"       
#&gt;  [6] "1e2"        "100A"       "Inf"        "-"          "A A A"     
#&gt; [11] "AA 0.50 ml" "AA 1.5 ml"  "AA 500 ml"  "AA 1e3 ml"  "AA 1500 ml"
#&gt; [16] "EXP 1"      "NA"         NA          </div><div class='input'><span class='fu'>SortMixed</span><span class='op'>(</span><span class='va'>x</span>, decreasing<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>  <span class='co'># reverse sort order</span>
</div><div class='output co'>#&gt;  [1] NA           "NA"         "EXP 1"      "AA 1500 ml" "AA 1e3 ml" 
#&gt;  [6] "AA 500 ml"  "AA 1.5 ml"  "AA 0.50 ml" "A A A"      "-"         
#&gt; [11] "Inf"        "100A"       "1e2"        "100"        "1A"        
#&gt; [16] "1 A"        "1 2 3 A"    ""          </div><div class='input'>
<span class='co'>## Roman numerals</span>
<span class='va'>chapters</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"V. Non Sequiturs"</span>, <span class='st'>"II. More Nonsense"</span>,
              <span class='st'>"I. Nonsense"</span>, <span class='st'>"IV. Nonesensical Citations"</span>,
              <span class='st'>"III. Utter Nonsense"</span><span class='op'>)</span>
<span class='fu'>SortMixed</span><span class='op'>(</span><span class='va'>chapters</span>, numeric.type<span class='op'>=</span><span class='st'>"roman"</span> <span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "I. Nonsense"                "II. More Nonsense"         
#&gt; [3] "III. Utter Nonsense"        "IV. Nonesensical Citations"
#&gt; [5] "V. Non Sequiturs"          </div><div class='input'>
<span class='co'>## Lower-case Roman numerals</span>
<span class='va'>vals</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"xix"</span>, <span class='st'>"xii"</span>, <span class='st'>"mcv"</span>, <span class='st'>"iii"</span>, <span class='st'>"iv"</span>, <span class='st'>"dcclxxii"</span>,   <span class='st'>"cdxcii"</span>,
          <span class='st'>"dcxcviii"</span>,   <span class='st'>"dcvi"</span>,   <span class='st'>"cci"</span><span class='op'>)</span>
<span class='op'>(</span><span class='va'>ordered</span> <span class='op'>&lt;-</span> <span class='fu'>SortMixed</span><span class='op'>(</span><span class='va'>vals</span>, numeric.type<span class='op'>=</span><span class='st'>"roman"</span>, roman.case<span class='op'>=</span><span class='st'>"lower"</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;  [1] "cci"      "cdxcii"   "dcclxxii" "dcvi"     "dcxcviii" "iii"     
#&gt;  [7] "iv"       "mcv"      "xii"      "xix"     </div><div class='input'><span class='fu'><a href='RomanToInt.html'>RomanToInt</a></span><span class='op'>(</span><span class='va'>ordered</span><span class='op'>)</span>
</div><div class='output co'>#&gt;      CCI   CDXCII DCCLXXII     DCVI DCXCVIII      III       IV      MCV 
#&gt;       NA       NA       NA       NA       NA       NA       NA       NA 
#&gt;      XII      XIX 
#&gt;       NA       NA </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Andri Signorell.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


