<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Add Connection Lines to a Barplot
<!-- %%  ~~function to do ... ~~ --> — ConnLines • DescTools</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Add Connection Lines to a Barplot
<!-- %%  ~~function to do ... ~~ --> — ConnLines" />
<meta property="og:description" content="Add connection lines to a stacked barplot (beside = TRUE is not supported). The function expects exactly the same arguments, that were
used to create the barplot.
" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">DescTools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.99.29</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">PDF:</li>
    <li>
      <a href="../articles/DescToolsCompanion.pdf">Desc Tools Companion</a>
    </li>
    <li>
      <a href="../articles/TablesInR.pdf">Tables in R</a>
    </li>
    <li>
      <a href="../articles/Combinatorics.pdf">Combinatorics</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/AndriSignorell/DescTools">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Add Connection Lines to a Barplot
<!-- %%  ~~function to do ... ~~ --></h1>
    
    <div class="hidden name"><code>ConnLines.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Add connection lines to a stacked barplot (beside = <code>TRUE</code> is not supported). The function expects exactly the same arguments, that were
used to create the barplot.
<!-- %%  ~~ A concise (1-5 lines) description of what the function does. ~~ --></p>
    </div>

    <pre class="usage"><span class='fu'>ConnLines</span>(<span class='no'>...</span>, <span class='kw'>col</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>lwd</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>lty</span> <span class='kw'>=</span> <span class='st'>"solid"</span>, <span class='kw'>xalign</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"mar"</span>,<span class='st'>"mid"</span>))</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>...</th>
      <td><p>the arguments used to create the barplot. (The dots are sent directly to barplot).
<!-- %%     ~~Describe \code{\dots} here~~ --></p></td>
    </tr>
    <tr>
      <th>col</th>
      <td><p>the line color of the connection lines. Defaults to black.
<!-- %%     ~~Describe \code{lcol} here~~ --></p></td>
    </tr>
    <tr>
      <th>lwd</th>
      <td><p>the line width for the connection lines. Default is 1.
<!-- %%     ~~Describe \code{lwd} here~~ --></p></td>
    </tr>
    <tr>
      <th>lty</th>
      <td><p>the line type for the connection lines. Line types can either be specified as an integer
  (0=blank, 1=solid (default), 2=dashed, 3=dotted, 4=dotdash, 5=longdash, 6=twodash) or as one of the
  character strings <code>"blank"</code>, <code>"solid"</code>, <code>"dashed"</code>, <code>"dotted"</code>, <code>"dotdash"</code>, <code>"longdash"</code>, or <code>"twodash"</code>.
  Default is <code>"solid"</code>.</p></td>
    </tr>
    <tr>
      <th>xalign</th>
      <td><p>defines where the lines should be aligned to on the x-axis. Can be set
either to the margins of the bars ("mar" which is the default) or to "mid". The latter will lead the connecting lines to the middle of the bars.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://rdrr.io/r/graphics/barplot.html'>barplot</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>tab</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/with.html'>with</a></span>(
  <span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span>(<span class='no'>d.pizza</span>, <span class='no'>driver</span> <span class='kw'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"Carpenter"</span>,<span class='st'>"Miller"</span>,<span class='st'>"Farmer"</span>,<span class='st'>"Butcher"</span>)),
  <span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span>(<span class='no'>driver</span>), <span class='fu'><a href='DateFunctions.html'>Weekday</a></span>(<span class='no'>date</span>, <span class='st'>"dd"</span>, <span class='kw'>stringsAsFactor</span><span class='kw'>=</span><span class='fl'>TRUE</span>))
)
<span class='no'>tab</span></div><div class='output co'>#&gt;            
#&gt;             Mon Tue Wed Thu Fri Sat Sun
#&gt;   Butcher     0   0   0   0   0  49  44
#&gt;   Carpenter  45   0   0  57  60  46  57
#&gt;   Farmer     11  14  27  26  12   9  13
#&gt;   Miller      7   5   0  19  38  44  10</div><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/graphics/barplot.html'>barplot</a></span>(<span class='no'>tab</span>, <span class='kw'>beside</span><span class='kw'>=</span><span class='fl'>FALSE</span>, <span class='kw'>space</span><span class='kw'>=</span><span class='fl'>1.2</span>)</div><div class='input'><span class='fu'>ConnLines</span>(<span class='no'>tab</span>, <span class='kw'>beside</span><span class='kw'>=</span><span class='fl'>FALSE</span>, <span class='kw'>space</span><span class='kw'>=</span><span class='fl'>1.2</span>, <span class='kw'>lcol</span><span class='kw'>=</span><span class='st'>"grey50"</span>, <span class='kw'>lwd</span><span class='kw'>=</span><span class='fl'>1</span>, <span class='kw'>lty</span><span class='kw'>=</span><span class='fl'>2</span>)</div><div class='img'><img src='ConnLines-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/graphics/barplot.html'>barplot</a></span>(<span class='no'>tab</span>, <span class='kw'>beside</span><span class='kw'>=</span><span class='fl'>FALSE</span>, <span class='kw'>space</span><span class='kw'>=</span><span class='fl'>1.2</span>, <span class='kw'>horiz</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div><div class='input'><span class='fu'>ConnLines</span>(<span class='no'>tab</span>, <span class='kw'>beside</span><span class='kw'>=</span><span class='fl'>FALSE</span>, <span class='kw'>space</span><span class='kw'>=</span><span class='fl'>1.2</span>, <span class='kw'>horiz</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>lcol</span><span class='kw'>=</span><span class='st'>"grey50"</span>, <span class='kw'>lwd</span><span class='kw'>=</span><span class='fl'>1</span>, <span class='kw'>lty</span><span class='kw'>=</span><span class='fl'>2</span>)</div><div class='img'><img src='ConnLines-2.png' alt='' width='700' height='433' /></div><div class='input'>

<span class='no'>cols</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='Pal.html'>Pal</a></span>(<span class='st'>"Helsana"</span>)[<span class='fl'>1</span>:<span class='fl'>4</span>]
<span class='no'>b</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/graphics/barplot.html'>barplot</a></span>(<span class='no'>tab</span>, <span class='kw'>beside</span><span class='kw'>=</span><span class='fl'>FALSE</span>, <span class='kw'>horiz</span><span class='kw'>=</span><span class='fl'>FALSE</span>, <span class='kw'>col</span><span class='kw'>=</span><span class='no'>cols</span>)</div><div class='input'><span class='fu'>ConnLines</span>(<span class='no'>tab</span>, <span class='kw'>beside</span><span class='kw'>=</span><span class='fl'>FALSE</span>, <span class='kw'>horiz</span><span class='kw'>=</span><span class='fl'>FALSE</span>, <span class='kw'>lcol</span><span class='kw'>=</span><span class='st'>"grey50"</span>, <span class='kw'>lwd</span><span class='kw'>=</span><span class='fl'>1</span>, <span class='kw'>lty</span><span class='kw'>=</span><span class='fl'>2</span>)</div><div class='input'>
<span class='co'># set some labels</span>
<span class='no'>txt</span> <span class='kw'>&lt;-</span> <span class='no'>tab</span>
<span class='no'>txt</span>[] <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>gsub</a></span>(<span class='kw'>pattern</span><span class='kw'>=</span><span class='st'>"^0"</span>, <span class='st'>""</span>, <span class='fu'><a href='https://rdrr.io/r/base/t.html'>t</a></span>(<span class='no'>tab</span>))       <span class='co'># do not print 0s</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/text.html'>text</a></span>(<span class='kw'>x</span><span class='kw'>=</span><span class='no'>b</span>, <span class='kw'>y</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/t.html'>t</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/apply.html'>apply</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/apply.html'>apply</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>rbind</a></span>(<span class='fl'>0</span>,<span class='no'>tab</span>), <span class='fl'>2</span>, <span class='no'>Midx</span>), <span class='fl'>2</span>, <span class='no'>cumsum</span>)), <span class='kw'>labels</span><span class='kw'>=</span><span class='no'>txt</span>,
     <span class='kw'>col</span><span class='kw'>=</span>(<span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span>(<span class='fu'><a href='TextContrastColor.html'>TextContrastColor</a></span>(<span class='no'>cols</span>), <span class='kw'>each</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>ncol</a></span>(<span class='no'>tab</span>)),
          <span class='kw'>nrow</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span>(<span class='no'>tab</span>), <span class='kw'>byrow</span><span class='kw'>=</span><span class='fl'>FALSE</span> )))</div><div class='img'><img src='ConnLines-3.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># align to the middle of the bars</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/barplot.html'>barplot</a></span>(<span class='no'>tab</span>, <span class='kw'>beside</span><span class='kw'>=</span><span class='fl'>FALSE</span>, <span class='kw'>space</span><span class='kw'>=</span><span class='fl'>1.2</span>)</div><div class='input'><span class='fu'>ConnLines</span>(<span class='no'>tab</span>, <span class='kw'>beside</span><span class='kw'>=</span><span class='fl'>FALSE</span>, <span class='kw'>space</span><span class='kw'>=</span><span class='fl'>1.2</span>, <span class='kw'>lcol</span><span class='kw'>=</span><span class='st'>"grey50"</span>, <span class='kw'>lwd</span><span class='kw'>=</span><span class='fl'>1</span>, <span class='kw'>lty</span><span class='kw'>=</span><span class='fl'>2</span>, <span class='kw'>method</span><span class='kw'>=</span><span class='st'>"mid"</span>)</div><div class='img'><img src='ConnLines-4.png' alt='' width='700' height='433' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Andri Signorell &lt;andri [at] signorell [dot] net&gt;
<!-- %%  ~~who you are~~ --></p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Andri Signorell.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.0.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


