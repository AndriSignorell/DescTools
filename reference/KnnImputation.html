<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Fill in NA values with the values of the nearest neighbours — ImputeKnn • DescTools</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Fill in NA values with the values of the nearest neighbours — ImputeKnn"><meta property="og:description" content="Function that fills in all NA values using the k Nearest
Neighbours of each case with NA values.
By default it uses the values of the neighbours and 
obtains an weighted (by the distance to the case) average
of their values to fill in the unknows.
If meth='median' it uses the median/most frequent value,
instead."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">DescTools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.99.53</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-book"></span>
     
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">Documentation for version of package:</li>
    <li>
      <a href="https://andrisignorell.github.io/DescTools/" class="external-link">Released</a>
    </li>
    <li>
      <a href="https://andrisignorell.github.io/DescTools/dev/" class="external-link">In-development</a>
    </li>
  </ul></li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">PDF:</li>
    <li>
      <a href="https://github.com/AndriSignorell/DescTools/raw/master/vignettes/DescToolsCompanion.pdf" class="external-link">Desc Tools Companion</a>
    </li>
    <li>
      <a href="https://github.com/AndriSignorell/DescTools/raw/master/vignettes/TablesInR.pdf" class="external-link">Tables in R</a>
    </li>
    <li>
      <a href="https://github.com/AndriSignorell/DescTools/raw/master/vignettes/Combinatorics.pdf" class="external-link">Combinatorics</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/AndriSignorell/DescTools/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Fill in NA values with the values of the nearest neighbours</h1>
    
    <div class="hidden name"><code>KnnImputation.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Function that fills in all NA values using the k Nearest
Neighbours of each case with NA values.
By default it uses the values of the neighbours and 
obtains an weighted (by the distance to the case) average
of their values to fill in the unknows.
If meth='median' it uses the median/most frequent value,
instead.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ImputeKnn</span><span class="op">(</span><span class="va">data</span>, k <span class="op">=</span> <span class="fl">10</span>, scale <span class="op">=</span> <span class="cn">TRUE</span>, meth <span class="op">=</span> <span class="st">"weighAvg"</span>, distData <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data</dt>
<dd><p>A data frame with the data set</p></dd>

  <dt>k</dt>
<dd><p>The number of nearest neighbours to use (defaults to 10)</p></dd>

  <dt>scale</dt>
<dd><p>Boolean setting if the data should be scale before finding the nearest neighbours (defaults
to TRUE)</p></dd>

  <dt>meth</dt>
<dd><p>String indicating the method used to calculate the value to fill in each
NA. Available values are 'median' or 'weighAvg' (the default).</p></dd>

<dt>distData</dt>
<dd><p>Optionally you may sepecify here a data frame containing the data set
  that should be used to find the neighbours. This is usefull when
  filling in NA values on a test set, where you should use only
  information from the training set. This defaults to NULL, which means
  that the neighbours will be searched in <code>data</code></p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>This function uses the k-nearest neighbours to fill in the unknown (NA)
values in a data set. For each case with any NA value it will search for
its k most similar cases and use the values of these cases to fill in
the unknowns.</p>
<p>If <code>meth='median'</code>  the function will use either the median (in
case of numeric variables) or the most frequent value (in case of
factors), of the neighbours to fill in the NAs. If
<code>meth='weighAvg'</code> the function will use a weighted average of the
values of the neighbours. The weights are given by <code>exp(-dist(k,x)</code>
where <code>dist(k,x)</code> is the euclidean distance between the case with
NAs (x) and the neighbour k.</p>
    </div>
    <div id="value">
    <h2>Value</h2>
    

<p>A data frame without NA values</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Torgo, L. (2010) <em>Data Mining using R: learning with case studies</em>,
  CRC Press (ISBN: 9781439810187).</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Luis Torgo <a href="mailto:ltorgo@dcc.fc.up.pt">ltorgo@dcc.fc.up.pt</a></p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/r/stats/complete.cases.html" class="external-link">complete.cases</a></code>, <code><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.omit</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">cleanPizza</span> <span class="op">&lt;-</span> <span class="fu">ImputeKnn</span><span class="op">(</span><span class="va">d.pizza</span><span class="op">[</span>, <span class="op">-</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span>   <span class="co"># no dates allowed</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">cleanPizza</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      index           week          weekday               area    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Min.   :   1   Min.   : 9.00   Min.   :1.000   Brent      :480  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1st Qu.: 303   1st Qu.:10.00   1st Qu.:3.000   Camden     :346  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Median : 605   Median :11.00   Median :5.000   Westminster:383  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Mean   : 605   Mean   :11.41   Mean   :4.443                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3rd Qu.: 907   3rd Qu.:13.00   3rd Qu.:6.000                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Max.   :1209   Max.   :14.00   Max.   :7.000                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      count          rabate              price            operator  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Min.   :1.000   Length:1209        Min.   :  8.792   Allanah:370  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1st Qu.:2.000   Class :character   1st Qu.: 31.176   Maria  :391  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Median :3.000   Mode  :character   Median : 46.764   Rhonda :448  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Mean   :3.445                      Mean   : 48.734                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3rd Qu.:4.000                      3rd Qu.: 62.955                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Max.   :8.000                      Max.   :134.334                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        driver     delivery_min    temperature     wine_ordered   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Butcher  : 96   Min.   : 8.80   Min.   :19.30   Min.   :0.0000  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Carpenter:275   1st Qu.:17.40   1st Qu.:42.20   1st Qu.:0.0000  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Carter   :235   Median :24.40   Median :49.80   Median :0.0000  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Farmer   :118   Mean   :25.65   Mean   :47.84   Mean   :0.1561  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Hunter   :156   3rd Qu.:32.50   3rd Qu.:55.30   3rd Qu.:0.0000  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Miller   :125   Max.   :65.60   Max.   :64.80   Max.   :1.0000  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Taylor   :204                                                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  wine_delivered    wrongpizza          quality   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Min.   :0.0000   Length:1209        low   :229  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1st Qu.:0.0000   Class :character   medium:458  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Median :0.0000   Mode  :character   high  :522  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Mean   :0.1361                                  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3rd Qu.:0.0000                                  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Max.   :1.0000                                  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                  </span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Andri Signorell.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

