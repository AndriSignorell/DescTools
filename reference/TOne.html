<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Create Table One Describing Baseline Characteristics — TOne • DescTools</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Create Table One Describing Baseline Characteristics — TOne"><meta property="og:description" content="Create a table summarizing continuous, categorical and dichotomous
variables, optionally stratified by one or more variables, while performing
adequate statistical tests."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">DescTools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.99.56</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-book"></span>


    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">Documentation for version of package:</li>
    <li>
      <a href="https://andrisignorell.github.io/DescTools/" class="external-link">Released</a>
    </li>
    <li>
      <a href="https://andrisignorell.github.io/DescTools/dev/" class="external-link">In-development</a>
    </li>
  </ul></li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Tutorials

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">PDF:</li>
    <li>
      <a href="https://github.com/AndriSignorell/DescTools/raw/master/vignettes/DescToolsCompanion.pdf" class="external-link">Desc Tools Companion</a>
    </li>
    <li>
      <a href="https://github.com/AndriSignorell/DescTools/raw/master/vignettes/TablesInR.pdf" class="external-link">Tables in R</a>
    </li>
    <li>
      <a href="https://github.com/AndriSignorell/DescTools/raw/master/vignettes/Combinatorics.pdf" class="external-link">Combinatorics</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/AndriSignorell/DescTools/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create Table One Describing Baseline Characteristics</h1>
    <small class="dont-index">Source: <a href="https://github.com/AndriSignorell/DescTools/blob/master/R/TOne.R" class="external-link"><code>R/TOne.R</code></a></small>
    <div class="hidden name"><code>TOne.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Create a table summarizing continuous, categorical and dichotomous
variables, optionally stratified by one or more variables, while performing
adequate statistical tests.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">TOne</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  grp <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  add.length <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  colnames <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  vnames <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  total <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  align <span class="op">=</span> <span class="st">"\\l"</span>,</span>
<span>  FUN <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  TEST <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  intref <span class="op">=</span> <span class="st">"high"</span>,</span>
<span>  fmt <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>abs <span class="op">=</span> <span class="fu"><a href="Format.html">Fmt</a></span><span class="op">(</span><span class="st">"abs"</span><span class="op">)</span>, num <span class="op">=</span> <span class="fu"><a href="Format.html">Fmt</a></span><span class="op">(</span><span class="st">"num"</span><span class="op">)</span>, per <span class="op">=</span> <span class="fu"><a href="Format.html">Fmt</a></span><span class="op">(</span><span class="st">"per"</span><span class="op">)</span>, pval <span class="op">=</span> <span class="fu"><a href="Format.html">as.fmt</a></span><span class="op">(</span>fmt <span class="op">=</span></span>
<span>    <span class="st">"*"</span>, na.form <span class="op">=</span> <span class="st">"   "</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>a data.frame containing all the variables to be included in the
table.</p></dd>


<dt id="arg-grp">grp<a class="anchor" aria-label="anchor" href="#arg-grp"></a></dt>
<dd><p>the grouping variable.</p></dd>


<dt id="arg-add-length">add.length<a class="anchor" aria-label="anchor" href="#arg-add-length"></a></dt>
<dd><p>logical. If set to <code>TRUE</code> (default), a row with the
group sizes will be inserted as first row of the table.</p></dd>


<dt id="arg-colnames">colnames<a class="anchor" aria-label="anchor" href="#arg-colnames"></a></dt>
<dd><p>a vector of column names for the result table.</p></dd>


<dt id="arg-vnames">vnames<a class="anchor" aria-label="anchor" href="#arg-vnames"></a></dt>
<dd><p>a vector of variable names to be placed in the first column
instead of the real names.</p></dd>


<dt id="arg-total">total<a class="anchor" aria-label="anchor" href="#arg-total"></a></dt>
<dd><p>logical (default <code>TRUE</code>), defines whether the results
should also be displayed for the whole, ungrouped variable.</p></dd>


<dt id="arg-align">align<a class="anchor" aria-label="anchor" href="#arg-align"></a></dt>
<dd><p>the character on whose position the strings will be aligned.
Left alignment can be requested by setting <code>sep = "\l"</code>, right
alignment by <code>"\r"</code> and center alignment by <code>"\c"</code>. Mind the
backslashes, as if they are omitted, strings would be aligned to the
<b>character</b> <b>l</b>, <b>r</b> or <b>c</b> respectively. Default value
is <code>"\l"</code>, thus left alignment.</p></dd>


<dt id="arg-fun">FUN<a class="anchor" aria-label="anchor" href="#arg-fun"></a></dt>
<dd><p>the function to be used as location and dispersion measure for
numeric (including integer) variables (<code>mean</code>/<code>sd</code> is default,
alternatives as <code>median</code>/<code>IQR</code> are possible by defining a
function). See examples.</p></dd>


<dt id="arg-test">TEST<a class="anchor" aria-label="anchor" href="#arg-test"></a></dt>
<dd><p>a list of functions to be used to test the variables. Must be
named as <code>"num"</code>, <code>"cat"</code> and <code>"dich"</code> and be defined as
function with arguments <code>(x, g)</code>, generating something similar to a
p-value. Use <code>TEST=NA</code> to suppress test. (See examples.)</p></dd>


<dt id="arg-intref">intref<a class="anchor" aria-label="anchor" href="#arg-intref"></a></dt>
<dd><p>one out of <code>"high"</code> (default) or <code>"low"</code>, defining
which value of a dichotomous numeric or logical variable should be reported.
Usually this will be <code>1</code> or <code>TRUE</code>. Setting it to <code>"low"</code>
will report the lower value <code>0</code> or <code>FALSE</code>.</p></dd>


<dt id="arg-fmt">fmt<a class="anchor" aria-label="anchor" href="#arg-fmt"></a></dt>
<dd><p>format codes for absolute, numeric and percentage values, and for
the p-values of the tests.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>a character matrix</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>In research the characteristics of study populations are often characterised
through some kind of a "Table 1", containing descriptives of the used
variables, as mean/standard deviation for continuous variables, and
proportions for categorical variables. In many cases, a comparison is made
between groups within the framework of the scientific question.</p>
<div class="sourceCode"><pre><code> var Brent Camden Westminster n 474 (39.5<!-- %) 344 (28.7%) 381 -->
(31.8<!-- %) temperature 51.1 (8.7) 47.4 (10.1) 44.3 (9.8) *** ' driver *** "' -->
Butcher 72 (15.2<!-- %) 1 (0.3%) 22 (5.8%) Carpenter 29 (6.1%) 19 (5.6%) 221 -->
(58.2<!-- %) Carter 177 (37.4%) 47 (13.8%) 5 (1.3%) Farmer 19 (4.0%) 87 (25.5%) -->
11 (2.9<!-- %) Hunter 128 (27.1%) 4 (1.2%) 24 (6.3%) Miller 6 (1.3%) 41 (12.0%) -->
77 (20.3<!-- %) Taylor 42 (8.9%) 142 (41.6%) 20 (5.3%) rabate (= TRUE) 235 -->
(50.3<!-- %) 172 (50.3%) 184 (48.7%) "' --- ') Kruskal-Wallis test, ") Fisher -->
exact test, "') Chi-Square test Signif. codes: 0 '***' 0.001 '**' 0.01 '*'
0.05 '.' 0.1 ' ' 1 </code></pre></div>

<p>Creating such a table can be very time consuming and there's a need for a
flexible function that helps us to solve the task. <code>TOne()</code> is designed
to be easily used with sensible defaults, and yet flexible enough to allow
free definition of the essential design elements.</p>
<p>This is done by breaking down the descriptive task to three types of
variables: quantitative (numeric, integer), qualitative (factor, characters)
and dichotomous variables (the latter having exactly two values or levels).
Depending on the variable type, the descriptives and the according sensible
tests are chosen. By default mean/sd are chosen to describe numeric
variables.</p><div class="sourceCode"><pre><code> FUN = function(x) gettextf("<!-- %s / %s", -->
Format(mean(x, na.rm = TRUE), digits = 1), Format(sd(x, na.rm = TRUE),
digits = 3)) </code></pre></div>

<p>Their difference is tested with the Kruskal-Wallis test. For categorical
variables the absolute and relative frequencies are calculated and tested
with a chi-square test. <br> The tests can be changed with the argument
<code>TEST</code>. These must be organised as list containing elements named
<code>"num"</code>, <code>"cat"</code> and <code>"dich"</code>. Each of them must be a
function with arguments <code>(x, g)</code>, returning something similar to a
p-value.</p><div class="sourceCode"><pre><code><span> <span class="va">TEST</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span> num <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>,</span>
<span><span class="va">g</span><span class="op">)</span><span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/aov.html" class="external-link">aov</a></span><span class="op">(</span><span class="va">x</span> <span class="op">~</span> <span class="va">g</span><span class="op">)</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fl">1</span>, <span class="st">"Pr(&gt;F)"</span><span class="op">]</span><span class="op">}</span>, lbl <span class="op">=</span> <span class="st">"ANOVA"</span><span class="op">)</span>, cat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>fun <span class="op">=</span></span>
<span><span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">g</span><span class="op">)</span><span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/stats/chisq.test.html" class="external-link">chisq.test</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">g</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">p.val</span><span class="op">}</span>, lbl <span class="op">=</span> <span class="st">"Chi-Square test"</span><span class="op">)</span>,</span>
<span>dich <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">g</span><span class="op">)</span><span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/stats/fisher.test.html" class="external-link">fisher.test</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">g</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">p.val</span><span class="op">}</span>, lbl <span class="op">=</span></span>
<span><span class="st">"Fisher exact test"</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div><p>The legend text of the test, which is appended to
the table together with the significance codes, can be set with the variable
<code>lbl</code>.</p>
<p>Great importance was attached to the free definition of the number formats.
By default, the optionally definable format templates of <b>DescTools</b>
are used. Deviations from this can be freely passed as arguments to the
function. Formats can be defined for integers, floating point numbers,
percentages and for the p-values of statistical tests. All options of the
function <code><a href="Format.html">Format</a>()</code> are available and can be provided as a list.
See examples which show several different implementations.</p><div class="sourceCode"><pre><code><span></span>
<span><span class="va">fmt</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>abs <span class="op">=</span> <span class="fu"><a href="../reference/Format.html">Fmt</a></span><span class="op">(</span><span class="st">"abs"</span><span class="op">)</span>, num <span class="op">=</span> <span class="fu"><a href="../reference/Format.html">Fmt</a></span><span class="op">(</span><span class="st">"num"</span><span class="op">)</span>, per <span class="op">=</span> <span class="fu"><a href="../reference/Format.html">Fmt</a></span><span class="op">(</span><span class="st">"per"</span><span class="op">)</span>, pval <span class="op">=</span></span>
<span><span class="fu"><a href="../reference/Format.html">as.fmt</a></span><span class="op">(</span>fmt <span class="op">=</span> <span class="st">"*"</span>, na.form <span class="op">=</span> <span class="st">" "</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div>

<p>The function returns a character matrix as result, which can easily be
subset or combined with other matrices. An interface for
<code><a href="ToWrd.html">ToWrd</a>()</code> is available such that the matrix can be transferred
to MS-Word. Both font and alignment are freely selectable in the Word table.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="WrdTable.html">WrdTable</a>()</code>, <code><a href="ToWrd.html">ToWrd.TOne</a>()</code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Andri Signorell <a href="mailto:andri@signorell.net">andri@signorell.net</a></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>scipen <span class="op">=</span> <span class="fl">8</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">opt</span> <span class="op">&lt;-</span> <span class="fu"><a href="DescToolsOptions.html">DescToolsOptions</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># define some special formats for count data, percentages and numeric results</span></span></span>
<span class="r-in"><span><span class="co"># (those will be supported by TOne)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="Format.html">Fmt</a></span><span class="op">(</span>abs <span class="op">=</span> <span class="fu"><a href="Format.html">as.fmt</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">0</span>, big.mark <span class="op">=</span> <span class="st">"'"</span><span class="op">)</span><span class="op">)</span>   <span class="co"># counts</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $abs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Description:   Number format for counts</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Definition:    digits=0, big.mark="'"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Example:       314'159</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $per</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Description:   Percentage number format</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Definition:    digits=1, fmt='%'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Example:       31415926.5%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $num</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Description:   Number format for floats</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Definition:    digits=3, big.mark="'"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Example:       314'159.265</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $nob</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Description:   Number format</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Definition:    digits=5, na.form='nodat'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Example:       314159.26536</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu"><a href="Format.html">Fmt</a></span><span class="op">(</span>per <span class="op">=</span> <span class="fu"><a href="Format.html">as.fmt</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">1</span>, fmt <span class="op">=</span> <span class="st">"%"</span><span class="op">)</span><span class="op">)</span>        <span class="co"># percentages</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $abs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Description:   Number format</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Definition:    digits=0, big.mark="'"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Example:       314'159</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $per</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Description:   Percentage number format</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Definition:    digits=1, fmt='%'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Example:       31415926.5%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $num</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Description:   Number format for floats</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Definition:    digits=3, big.mark="'"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Example:       314'159.265</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $nob</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Description:   Number format</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Definition:    digits=5, na.form='nodat'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Example:       314159.26536</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu"><a href="Format.html">Fmt</a></span><span class="op">(</span>num <span class="op">=</span> <span class="fu"><a href="Format.html">as.fmt</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">1</span>, big.mark <span class="op">=</span> <span class="st">"'"</span><span class="op">)</span><span class="op">)</span>   <span class="co"># numeric</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $abs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Description:   Number format</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Definition:    digits=0, big.mark="'"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Example:       314'159</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $per</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Description:   Number format</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Definition:    digits=1, fmt='%'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Example:       31415926.5%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $num</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Description:   Number format for floats</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Definition:    digits=3, big.mark="'"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Example:       314'159.265</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $nob</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Description:   Number format</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Definition:    digits=5, na.form='nodat'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Example:       314159.26536</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">TOne</span><span class="op">(</span>x <span class="op">=</span> <span class="va">d.pizza</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"temperature"</span>, <span class="st">"delivery_min"</span>, <span class="st">"driver"</span>, <span class="st">"wine_ordered"</span><span class="op">)</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>  grp <span class="op">=</span> <span class="va">d.pizza</span><span class="op">$</span><span class="va">quality</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> var                total              low                medium             high                                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> n                  1'008              156 (15.5%)        356 (35.3%)        496 (49.2%)                          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> temperature        47.9 (9.9)         32.9 (7.8)         45.6 (7.4)         53.6 (6.5)         *** '             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> delivery_min       25.7 (10.8)        33.9 (11.7)        26.5 (10.1)        22.6 (9.5)         *** '             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> driver                                                                                         *** ""            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Butcher          79 (8.0%)          10 (6.5%)          36 (10.1%)         33 (6.7%)                            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Carpenter        225 (22.6%)        59 (38.1%)         90 (25.4%)         76 (15.4%)                           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Carter           196 (19.4%)        11 (7.1%)          72 (20.3%)         113 (22.9%)                          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Farmer           94 (9.7%)          10 (6.5%)          26 (7.3%)          58 (11.7%)                           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Hunter           130 (13.0%)        8 (5.2%)           43 (12.1%)         79 (16.0%)                           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Miller           109 (10.4%)        16 (10.3%)         35 (9.9%)          58 (11.7%)                           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Taylor           171 (16.9%)        41 (26.5%)         53 (14.9%)         77 (15.6%)                           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> wine_ordered (= 1) 161 (16.1%)        32 (20.8%)         63 (17.9%)         66 (13.4%)         .   ""            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ') Kruskal-Wallis test, ") Fisher exact test, "") Chi-Square test</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># the same but no groups now...</span></span></span>
<span class="r-in"><span><span class="fu">TOne</span><span class="op">(</span>x <span class="op">=</span> <span class="va">d.pizza</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"temperature"</span>, <span class="st">"delivery_min"</span>, <span class="st">"driver"</span>, <span class="st">"wine_ordered"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> var                total             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> n                  1'209             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> temperature        47.9 (9.9)        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> delivery_min       25.7 (10.8)       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> driver                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Butcher          96 (8.0%)         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Carpenter        272 (22.6%)       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Carter           234 (19.4%)       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Farmer           117 (9.7%)        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Hunter           156 (13.0%)       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Miller           125 (10.4%)       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Taylor           204 (16.9%)       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> wine_ordered (= 1) 187 (15.6%)       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># define median/IQR as describing functions for the numeric variables</span></span></span>
<span class="r-in"><span><span class="fu">TOne</span><span class="op">(</span><span class="va">iris</span><span class="op">[</span>, <span class="op">-</span><span class="fl">5</span><span class="op">]</span>, <span class="va">iris</span><span class="op">[</span>, <span class="fl">5</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>  FUN <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">gettextf</a></span><span class="op">(</span><span class="st">"%s / %s"</span>,</span></span>
<span class="r-in"><span>      <span class="fu"><a href="Format.html">Format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/median.html" class="external-link">median</a></span><span class="op">(</span><span class="va">x</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>      <span class="fu"><a href="Format.html">Format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/IQR.html" class="external-link">IQR</a></span><span class="op">(</span><span class="va">x</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">}</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> var          total        setosa       versicolor   virginica                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> n            150          50 (33.3%)   50 (33.3%)   50 (33.3%)               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sepal.Length 5.8 / 1.300  5.0 / 0.400  5.9 / 0.700  6.5 / 0.675  *** '       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sepal.Width  3.0 / 0.500  3.4 / 0.475  2.8 / 0.475  3.0 / 0.375  *** '       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Petal.Length 4.3 / 3.500  1.5 / 0.175  4.3 / 0.600  5.5 / 0.775  *** '       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Petal.Width  1.3 / 1.500  0.2 / 0.100  1.3 / 0.300  2.0 / 0.500  *** '       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ') Kruskal-Wallis test, ") Fisher exact test, "") Chi-Square test</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># replace kruskal.test by ANOVA and report the p.value</span></span></span>
<span class="r-in"><span><span class="co"># Change tests for all the types</span></span></span>
<span class="r-in"><span><span class="fu">TOne</span><span class="op">(</span>x <span class="op">=</span> <span class="va">iris</span><span class="op">[</span>, <span class="op">-</span><span class="fl">5</span><span class="op">]</span>, grp <span class="op">=</span> <span class="va">iris</span><span class="op">[</span>, <span class="fl">5</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>     FUN <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">gettextf</a></span><span class="op">(</span><span class="st">"%s / %s"</span>,</span></span>
<span class="r-in"><span>            <span class="fu"><a href="Format.html">Format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">x</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>            <span class="fu"><a href="Format.html">Format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">x</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span>, </span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>     TEST <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>       num <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">g</span><span class="op">)</span><span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/aov.html" class="external-link">aov</a></span><span class="op">(</span><span class="va">x</span> <span class="op">~</span> <span class="va">g</span><span class="op">)</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fl">1</span>, <span class="st">"Pr(&gt;F)"</span><span class="op">]</span><span class="op">}</span>,</span></span>
<span class="r-in"><span>                        lbl <span class="op">=</span> <span class="st">"ANOVA"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>               cat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">g</span><span class="op">)</span><span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/stats/chisq.test.html" class="external-link">chisq.test</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">g</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">p.val</span><span class="op">}</span>,</span></span>
<span class="r-in"><span>                        lbl <span class="op">=</span> <span class="st">"Chi-Square test"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>               dich <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">g</span><span class="op">)</span><span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/stats/fisher.test.html" class="external-link">fisher.test</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">g</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">p.val</span><span class="op">}</span>,</span></span>
<span class="r-in"><span>                         lbl <span class="op">=</span> <span class="st">"Fisher exact test"</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>       fmt <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>abs <span class="op">=</span> <span class="fu"><a href="Format.html">Fmt</a></span><span class="op">(</span><span class="st">"abs"</span><span class="op">)</span>, num  <span class="op">=</span> <span class="fu"><a href="Format.html">Fmt</a></span><span class="op">(</span><span class="st">"num"</span><span class="op">)</span>, per <span class="op">=</span> <span class="fu"><a href="Format.html">Fmt</a></span><span class="op">(</span><span class="st">"per"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                pval <span class="op">=</span> <span class="fu"><a href="Format.html">as.fmt</a></span><span class="op">(</span>fmt <span class="op">=</span> <span class="st">"*"</span>, na.form <span class="op">=</span> <span class="st">"   "</span><span class="op">)</span><span class="op">)</span> </span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> var          total        setosa       versicolor   virginica                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> n            150          50 (33.3%)   50 (33.3%)   50 (33.3%)               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sepal.Length 5.8 / 0.828  5.0 / 0.352  5.9 / 0.516  6.6 / 0.636  *** '       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sepal.Width  3.1 / 0.436  3.4 / 0.379  2.8 / 0.314  3.0 / 0.322  *** '       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Petal.Length 3.8 / 1.765  1.5 / 0.174  4.3 / 0.470  5.6 / 0.552  *** '       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Petal.Width  1.2 / 0.762  0.2 / 0.105  1.3 / 0.198  2.0 / 0.275  *** '       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ') ANOVA, ") Fisher exact test, "") Chi-Square test</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">t1</span> <span class="op">&lt;-</span> <span class="fu">TOne</span><span class="op">(</span>x     <span class="op">=</span> <span class="va">d.pizza</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"temperature"</span>, <span class="st">"driver"</span>, <span class="st">"rabate"</span><span class="op">)</span><span class="op">]</span>, </span></span>
<span class="r-in"><span>           grp   <span class="op">=</span> <span class="va">d.pizza</span><span class="op">$</span><span class="va">area</span>, </span></span>
<span class="r-in"><span>           align <span class="op">=</span> <span class="st">" "</span>, </span></span>
<span class="r-in"><span>           total <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>            </span></span>
<span class="r-in"><span>           FUN <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">gettextf</a></span><span class="op">(</span><span class="st">"%s / %s (%s)"</span>,</span></span>
<span class="r-in"><span>                                      <span class="fu"><a href="Format.html">Format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">x</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                      <span class="fu"><a href="Format.html">Format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">x</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                      <span class="fu"><a href="Format.html">Format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/median.html" class="external-link">median</a></span><span class="op">(</span><span class="va">x</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>           </span></span>
<span class="r-in"><span>           TEST <span class="op">=</span> <span class="cn">NA</span>,</span></span>
<span class="r-in"><span>            </span></span>
<span class="r-in"><span>           fmt <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>abs  <span class="op">=</span> <span class="fu"><a href="Format.html">as.fmt</a></span><span class="op">(</span>big.mark <span class="op">=</span> <span class="st">" "</span>, digits<span class="op">=</span><span class="fl">0</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>                      num  <span class="op">=</span> <span class="fu"><a href="Format.html">as.fmt</a></span><span class="op">(</span>big.mark <span class="op">=</span> <span class="st">" "</span>, digits<span class="op">=</span><span class="fl">1</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>                      per  <span class="op">=</span> <span class="fu"><a href="Format.html">as.fmt</a></span><span class="op">(</span>fmt<span class="op">=</span><span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> </span></span>
<span class="r-in"><span>                          <span class="fu"><a href="StrPad.html">StrPad</a></span><span class="op">(</span><span class="fu"><a href="Format.html">Format</a></span><span class="op">(</span><span class="va">x</span>, fmt<span class="op">=</span><span class="st">"%"</span>, d<span class="op">=</span><span class="fl">1</span><span class="op">)</span>, width<span class="op">=</span><span class="fl">5</span>, adj <span class="op">=</span> <span class="st">"r"</span><span class="op">)</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>                      pval <span class="op">=</span> <span class="fu"><a href="Format.html">as.fmt</a></span><span class="op">(</span>fmt <span class="op">=</span> <span class="st">"*"</span>, na.form <span class="op">=</span> <span class="st">"   "</span><span class="op">)</span><span class="op">)</span> </span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># add a userdefined legend</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">t1</span>, <span class="st">"legend"</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"numeric: mean / sd (median)), factor: n (n%)"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">t1</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> var                  Brent                Camden               Westminster         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> n                     474 (39.5%)          344 (28.7%)          381 (31.8%)        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> temperature          51.1 / 8.734 (53.4)  47.4 / 10.111 (50.3) 44.3 / 9.836 (45.9) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> driver                                                                             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Butcher              72 (15.2%)            1 ( 0.3%)           22 ( 5.8%)        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Carpenter            29 ( 6.1%)           19 ( 5.6%)          221 (58.2%)        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Carter              177 (37.4%)           47 (13.8%)            5 ( 1.3%)        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Farmer               19 ( 4.0%)           87 (25.5%)           11 ( 2.9%)        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Hunter              128 (27.1%)            4 ( 1.2%)           24 ( 6.3%)        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Miller                6 ( 1.3%)           41 (12.0%)           77 (20.3%)        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Taylor               42 ( 8.9%)          142 (41.6%)           20 ( 5.3%)        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> rabate (= TRUE)       235 (50.3%)          172 (50.3%)          184 (48.7%)        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> numeric: mean / sd (median)), factor: n (n%) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># dichotomous integer or logical values can be reported by the high or low value</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">100</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.3</span>, <span class="fl">0.7</span><span class="op">)</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">100</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.3</span>, <span class="fl">0.7</span><span class="op">)</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">==</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">100</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.3</span>, <span class="fl">0.7</span><span class="op">)</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span>, size <span class="op">=</span> <span class="fl">100</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">d.set</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, y <span class="op">=</span> <span class="va">y</span>, z <span class="op">=</span> <span class="va">z</span>, g <span class="op">=</span> <span class="va">g</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">TOne</span><span class="op">(</span><span class="va">d.set</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, <span class="va">d.set</span><span class="op">$</span><span class="va">g</span>, intref <span class="op">=</span> <span class="st">"low"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> var         total       a           b           c           d                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> n           100         23 (23.0%)  23 (23.0%)  34 (34.0%)  20 (20.0%)             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x (= 0)     23 (23.0%)  7 (30.4%)   3 (13.0%)   11 (32.4%)  2 (10.0%)       ""     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> y (= FALSE) 23 (23.0%)  6 (26.1%)   2 (8.7%)    10 (29.4%)  5 (25.0%)       ""     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> z (= 0)     24 (24.0%)  6 (26.1%)   5 (21.7%)   11 (32.4%)  2 (10.0%)       ""     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ') Kruskal-Wallis test, ") Fisher exact test, "") Chi-Square test</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">TOne</span><span class="op">(</span><span class="va">d.set</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, <span class="va">d.set</span><span class="op">$</span><span class="va">g</span>, intref <span class="op">=</span> <span class="st">"high"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> var        total      a          b          c          d                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> n          100        23 (23.0%) 23 (23.0%) 34 (34.0%) 20 (20.0%)           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x (= 1)    77 (77.0%) 16 (69.6%) 20 (87.0%) 23 (67.6%) 18 (90.0%)     ""    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> y (= TRUE) 77 (77.0%) 17 (73.9%) 21 (91.3%) 24 (70.6%) 15 (75.0%)     ""    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> z (= 1)    76 (76.0%) 17 (73.9%) 18 (78.3%) 23 (67.6%) 18 (90.0%)     ""    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ') Kruskal-Wallis test, ") Fisher exact test, "") Chi-Square test</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># intref would not control factors, use relevel to change reported value</span></span></span>
<span class="r-in"><span><span class="fu">TOne</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>z <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/relevel.html" class="external-link">relevel</a></span><span class="op">(</span><span class="va">z</span>, <span class="st">"1"</span><span class="op">)</span><span class="op">)</span>, <span class="va">g</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> var        total      a          b          c          d                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> n          100        23 (23.0%) 23 (23.0%) 34 (34.0%) 20 (20.0%)           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> z (= 0)    24 (24.0%) 6 (26.1%)  5 (21.7%)  11 (32.4%) 2 (10.0%)      ""    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ') Kruskal-Wallis test, ") Fisher exact test, "") Chi-Square test</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">TOne</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>z <span class="op">=</span> <span class="va">z</span><span class="op">)</span>, <span class="va">g</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> var        total      a          b          c          d                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> n          100        23 (23.0%) 23 (23.0%) 34 (34.0%) 20 (20.0%)           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> z (= 1)    76 (76.0%) 17 (73.9%) 18 (78.3%) 23 (67.6%) 18 (90.0%)     ""    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ') Kruskal-Wallis test, ") Fisher exact test, "") Chi-Square test</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span><span class="va">opt</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{  </span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span><span class="co"># Send the whole stuff to Word</span></span></span>
<span class="r-in"><span><span class="va">wrd</span> <span class="op">&lt;-</span> <span class="fu"><a href="GetNewWrd.html">GetNewWrd</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="ToWrd.html">ToWrd</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu">TOne</span><span class="op">(</span>x   <span class="op">=</span> <span class="va">d.pizza</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"temperature"</span>, <span class="st">"delivery_min"</span>, <span class="st">"driver"</span>, <span class="st">"wine_ordered"</span><span class="op">)</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>       grp <span class="op">=</span> <span class="va">d.pizza</span><span class="op">$</span><span class="va">quality</span>,</span></span>
<span class="r-in"><span>       fmt <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>num<span class="op">=</span><span class="fu"><a href="Format.html">Fmt</a></span><span class="op">(</span><span class="st">"num"</span>, digits<span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>       <span class="op">)</span>,</span></span>
<span class="r-in"><span>  font <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">"Arial narrow"</span>, size<span class="op">=</span><span class="fl">8</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  align <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"l"</span>,<span class="st">"r"</span><span class="op">)</span>      <span class="co"># this will be recycled: left-right-left-right ...</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Andri Signorell.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer></div>






  </body></html>

